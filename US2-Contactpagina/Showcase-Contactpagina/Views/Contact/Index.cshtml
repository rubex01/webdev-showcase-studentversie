@model Contactform
@{
    ViewData["Title"] = "Contactpagina";
}

<div class="page">
    <section class="contact">

        <h1>Stuur mij een bericht</h1>

        @if (TempData["Message"] != null)
        {
            var messageType = TempData["MessageType"] as string;
            var alertClass = messageType == "success" ? "alert-success" : "alert-danger";
            <div class="alert @alertClass">
                <strong>@(messageType == "success" ? "Succes:" : "Fout:")</strong> @TempData["Message"]
            </div>
        }

        <div class="loader hide"></div>

        <form method="post" class="form-contactpagina" id="form-contactpagina">

            <div class="form-contactpagina__inputelement fx-col">
                <label for="firstname">Voornaam: </label>
                <input type="text" asp-for="FirstName" name="firstname" id="firstname" required>
                <span asp-validation-for="FirstName" class="text-danger"></span>
            </div>

            <div class="form-contactpagina__inputelement fx-col">
                <label for="lastname">Achternaam: </label>
                <input type="text" asp-for="LastName" name="lastname" id="lastname" required>
                <span asp-validation-for="LastName" class="text-danger"></span>
            </div>

            <div class="form-contactpagina__inputelement fx-col">
                <label for="email">E-mailadres: </label>
                <input type="email" asp-for="Email" name="email" id="email">
                <span asp-validation-for="Email" class="text-danger"></span>
            </div>

            <div class="form-contactpagina__inputelement fx-col">
                <label for="phone">Telefoonnummer: </label>
                <input type="tel" asp-for="Phone" name="phone" id="phone">
                <span asp-validation-for="Phone" class="text-danger"></span>
            </div>

            <div class="form-contactpagina__inputelement">
                <button class="g-recaptcha btn btn-primary" 
                        data-sitekey="6LdrIWEqAAAAAFG0TgX27sbebozLnZjKMTnGFXYY" 
                        data-callback='onSubmit' 
                        data-action='submit'>Verstuur!</button>
            </div>

        </form>

    </section>
</div>

<script>
    function onSubmit(token) {
        const form = document.getElementById("form-contactpagina");
        form.submit();
        form.classList.add('hide');
        document.getElementsByClassName('loader')[0].classList.remove('hide');
    }
</script>
